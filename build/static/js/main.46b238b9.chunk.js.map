{"version":3,"sources":["components/Header.js","components/Places.js","components/AddRestaurant.js","components/Map.js","components/Main.js","components/AddReview.js","components/Place.js","App.js","serviceWorker.js","index.js"],"names":["Header","state","latitude","longitude","forecast","temperature","humidity","city","country","description","error","componentDidMount","navigator","geolocation","getCurrentPosition","position","window","google","maps","LatLng","coords","console","log","_this","setState","prevState","fetch","concat","then","response","json","data","props","main","temp","name","sys","weather","message","enableHighAccuracy","timeout","maximumAge","react_default","a","createElement","className","Link","to","this","Component","Places","_ref","places","onChangeRating","filter","style","height","overflow","right","top","build_default","rating","numberOfStars","changeRating","starRatedColor","starDimension","starSpacing","map","place","key","id","place_id","bottom","toFixed","AddRestaurant","geometry","latLng","vicinity","Date","getTime","icon","errors","validate","onSubmit","event","preventDefault","Object","keys","length","newPlace","closeModal","_this2","onClick","htmlFor","type","onChange","target","value","placeholder","Map","mapCenter","lat","lng","activePlace","refs","center","zoom","mapTypeId","addListener","String","replace","split","location","Number","setCenter","marker","PlacesService","nearbySearch","radius","results","status","fetchPlaces","componentWillReceiveProps","nextProps","createMarkers","Marker","animation","Animation","DROP","infoWindow","InfoWindow","content","open","bounds","LatLngBounds","_loop","image","url","size","Size","origin","Point","anchor","scaledSize","title","placeContent","getAnimation","setAnimation","BOUNCE","extend","i","fitBounds","ref","width","components_AddRestaurant","Main","filteredPlaces","linkTo","path","history","push","toConsumableArray","Map_Map","AddReview","author_name","text","time","profile_photo_url","comments","submit","class","Place","opening_hours","weekday_text","reviews","addingReview","getDetails","placeId","match","params","addReview","_this$state","hours","item","StreetViewService","getPanorama","parseFloat","panorama","StreetViewPanorama","document","getElementById","setPano","pano","setPov","heading","pitch","setVisible","formatted_address","formatted_phone_number","listStyle","components_AddReview","review","src","alt","relative_time_description","App","BrowserRouter","components_Header","Route","exact","component","Boolean","hostname","ReactDOM","render","src_App_0","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.46b238b9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    latitude: 0,\r\n    longitude: 0,\r\n    forecast: [],\r\n    temperature: null,\r\n    humidity: null,\r\n    city: null,\r\n    country: null,\r\n    description: null,\r\n    error: \"\"\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // Get the current position of the user\r\n    navigator.geolocation.getCurrentPosition(\r\n      position => {\r\n        let initialLocation = new window.google.maps.LatLng(\r\n          position.coords.latitude,\r\n          position.coords.longitude\r\n        );\r\n\r\n        const coords = position.coords;\r\n        console.log(coords);\r\n        this.setState(\r\n          prevState => ({\r\n            latitude: coords.latitude,\r\n            longitude: coords.longitude\r\n          }),\r\n          () => {\r\n            // Call the API, and set the state of the weather forecast\r\n            fetch(\r\n              `https://api.openweathermap.org/data/2.5/weather?lat=${\r\n                this.state.latitude\r\n              }&lon=${\r\n                this.state.longitude\r\n              }&units=metric&appid=f083ac804dacf7162acfdbdad23b4cf0`\r\n            )\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                this.setState((prevState, props) => ({\r\n                  temperature: data.main.temp,\r\n                  city: data.name,\r\n                  country: data.sys.country,\r\n                  humidity: data.name.humidity,\r\n                  description: data.weather[0].description\r\n                }));\r\n              });\r\n          }\r\n        );\r\n      },\r\n      error => this.setState({ forecast: error.message }),\r\n      { enableHighAccuracy: true, timeout: 20000, maximumAge: 1000 }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-md navbar-danger bg-danger\">\r\n        <Link to=\"/\" className=\"navbar-brand text-light font-weight-bold\">\r\n          Restaurant Review\r\n        </Link>\r\n\r\n        <div className=\"navbar-nav text-light badge badge-pill badge-info\">\r\n          <p className=\"navbar-text pt-4 mr-2\">{this.state.city}</p>\r\n          <p className=\"navbar-text pt-4 mr-2 \">{this.state.temperature}Â°C</p>\r\n          <p className=\"navbar-text pt-4 mr-2 \">{this.state.country}</p>\r\n          <p className=\"navbar-text pt-4 mr-2 \">{this.state.description}</p>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({ places, onChangeRating, filter }) => {\r\n  return (\r\n    <div style={{ height: \"calc(100vh - 56px)\", overflow: \"auto\" }}>\r\n      <ul className=\"list-group\">\r\n        <li\r\n          className=\"list-group-item active bg-info position-sticky border-0\"\r\n          style={{\r\n            right: 0,\r\n            top: 0\r\n          }}\r\n        >\r\n          <h4 className=\"mb-0 d-flex justify-content-between\">\r\n            <span>Nearby Places</span>\r\n            <StarRatings\r\n              rating={filter}\r\n              numberOfStars={5}\r\n              changeRating={rating => onChangeRating(rating)}\r\n              starRatedColor=\"red\"\r\n              starDimension=\"20px\"\r\n              starSpacing=\"3px\"\r\n            />\r\n          </h4>\r\n        </li>\r\n        {places.map(place => (\r\n          <li key={place.id} className=\"list-group-item\">\r\n            {place.place_id ? (\r\n              <Link to={place.place_id}>\r\n                <h5 className=\"nameList\">{place.name}</h5>\r\n                <div>\r\n                  <span\r\n                    className=\"badge badge-secondary position-relative mr-2\"\r\n                    style={{ bottom: \"-3px\" }}\r\n                  >\r\n                    {(place.rating * 1).toFixed(1)}\r\n                  </span>\r\n                  <StarRatings\r\n                    rating={place.rating}\r\n                    numberOfStars={5}\r\n                    starRatedColor=\"red\"\r\n                    starDimension=\"20px\"\r\n                    starSpacing=\"3px\"\r\n                  />\r\n                </div>\r\n              </Link>\r\n            ) : (\r\n              <div>\r\n                <h5>{place.name}</h5>\r\n                <div>\r\n                  <span\r\n                    className=\"badge badge-secondary position-relative mr-2\"\r\n                    style={{ bottom: \"-3px\" }}\r\n                  >\r\n                    {(place.rating * 1).toFixed(1)}\r\n                  </span>\r\n                  <StarRatings\r\n                    rating={place.rating}\r\n                    numberOfStars={5}\r\n                    starRatedColor=\"red\"\r\n                    starDimension=\"20px\"\r\n                    starSpacing=\"3px\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport \"./form.css\";\r\n\r\nclass AddRestaurant extends Component {\r\n  state = {\r\n    geometry: this.props.latLng.geometry,\r\n    name: \"\",\r\n    rating: 1,\r\n    vicinity: \"Adress\",\r\n    id: new Date().getTime(),\r\n    icon: \"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png\",\r\n    errors: {}\r\n  };\r\n\r\n  validate = data => {\r\n    const errors = {};\r\n    if (!data.name) errors.name = \"Please, enter a place name\";\r\n    if (!data.vicinity) errors.vicinity = \"Please, enter an address\";\r\n    return errors;\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const errors = this.validate(this.state);\r\n\r\n    this.setState({ errors });\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.props.newPlace(this.state);\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"modalWindow\">\r\n        <form>\r\n          <button\r\n            className=\"btn btn-danger float-right\"\r\n            onClick={() => this.props.closeModal()}\r\n          >\r\n            &times;\r\n          </button>\r\n          <h3>Add Restaurant</h3>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              type=\"email\"\r\n              className={`form-control ${!!this.state.errors.name &&\r\n                \"is-invalid\"}`}\r\n              id=\"name\"\r\n              name=\"name\"\r\n              onChange={event => this.setState({ name: event.target.value })}\r\n              value={this.state.name}\r\n              placeholder=\"Enter your name\"\r\n            />\r\n            {!!this.state.errors.name && (\r\n              <div className=\"invalid-feedback\">{this.state.errors.name}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <StarRatings\r\n              rating={this.state.rating}\r\n              numberOfStars={5}\r\n              changeRating={rating => this.setState({ rating })}\r\n              starRatedColor=\"red\"\r\n              starDimension=\"20px\"\r\n              starSpacing=\"1px\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"vicinity\">Address</label>\r\n            <textarea\r\n              name=\"text\"\r\n              id=\"vicinity\"\r\n              className={`form-control ${!!this.state.errors.vicinity &&\r\n                \"is-invalid\"}`}\r\n              onChange={event =>\r\n                this.setState({ vicinity: event.target.value })\r\n              }\r\n              value={this.state.vicinity}\r\n            />\r\n            {!!this.state.errors.vicinity && (\r\n              <div className=\"invalid-feedback\">\r\n                {this.state.errors.vicinity}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-info\"\r\n            onClick={this.onSubmit}\r\n          >\r\n            Save\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddRestaurant;\r\n","import React, { Component } from \"react\";\r\nimport AddRestaurant from \"./AddRestaurant\";\r\n\r\nexport default class Map extends Component {\r\n  state = {\r\n    mapCenter: { lat: -33.8688, lng: 191.2195 },\r\n    map: null,\r\n    newPlace: {},\r\n    activePlace: {}\r\n  };\r\n  componentDidMount = () => {\r\n    let map = new window.google.maps.Map(this.refs.map, {\r\n      center: this.state.mapCenter,\r\n      zoom: 14,\r\n      mapTypeId: \"roadmap\"\r\n    });\r\n    map.addListener(\"click\", event => {\r\n      const latLng = String(event.latLng)\r\n        .replace(\" \", \"\")\r\n        .replace(\"(\", \"\")\r\n        .replace(\")\", \"\")\r\n        .split(\",\");\r\n\r\n      this.setState({\r\n        newPlace: {\r\n          geometry: {\r\n            location: {\r\n              lat: Number(latLng[0]),\r\n              lng: Number(latLng[1])\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    this.setState({ map });\r\n\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      const mapCenter = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      };\r\n      map.setCenter(mapCenter);\r\n\r\n      this.setState({ mapCenter });\r\n\r\n      this.marker(mapCenter, map);\r\n\r\n      let service = new window.google.maps.places.PlacesService(map);\r\n\r\n      service.nearbySearch(\r\n        {\r\n          location: mapCenter,\r\n          radius: \"1000\",\r\n          type: [\"restaurant\"]\r\n        },\r\n        (results, status) => {\r\n          this.props.fetchPlaces(results);\r\n          // console.log(\"places\", results);\r\n        }\r\n      );\r\n    });\r\n  };\r\n\r\n  componentWillReceiveProps = nextProps => {\r\n    //console.log(\"props\", nextProps.places);\r\n    // console.log(\"places\", results);\r\n    this.createMarkers(nextProps.places, this.state.map);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div ref=\"map\" style={{ width: \"100%\", height: \"100vh\" }} />\r\n        {Object.keys(this.state.newPlace).length > 0 && (\r\n          <AddRestaurant\r\n            closeModal={this.closeModal}\r\n            latLng={this.state.newPlace}\r\n            newPlace={this.props.newPlace}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  marker = (position, map) => {\r\n    let marker = new window.google.maps.Marker({\r\n      map,\r\n      position,\r\n      animation: window.google.maps.Animation.DROP,\r\n      icon:\r\n        \"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png\"\r\n    });\r\n\r\n    const infoWindow = new window.google.maps.InfoWindow({\r\n      content: `\r\n        <h2>Current location</h2>\r\n      `\r\n    });\r\n\r\n    marker.addListener(\"click\", function() {\r\n      infoWindow.open(map, marker);\r\n    });\r\n  };\r\n\r\n  createMarkers = (places, map) => {\r\n    var bounds = new window.google.maps.LatLngBounds();\r\n\r\n    for (var i = 0, place; (place = places[i]); i++) {\r\n      const image = {\r\n        url: place.icon,\r\n        size: new window.google.maps.Size(71, 71),\r\n        origin: new window.google.maps.Point(0, 0),\r\n        anchor: new window.google.maps.Point(17, 34),\r\n        scaledSize: new window.google.maps.Size(25, 25)\r\n      };\r\n\r\n      //console.log(\"place\", place);\r\n\r\n      const marker = new window.google.maps.Marker({\r\n        map: map,\r\n        icon: image,\r\n        title: place.name,\r\n        rating: place.rating,\r\n        place_id: place.place_id,\r\n        position: place.geometry.location,\r\n        animation: window.google.maps.Animation.DROP\r\n      });\r\n\r\n      const placeContent = `\r\n      <h2>${place.name}</h2>\r\n      <p>${place.vicinity}</p>\r\n      ${\r\n        place.place_id\r\n          ? `<div><a class=\"btn btn-info btn-md\" href=\"/${\r\n              place.place_id\r\n            }\">See place</a></div>`\r\n          : \"\"\r\n      }\r\n      `;\r\n\r\n      const infoWindow = new window.google.maps.InfoWindow({\r\n        content: placeContent\r\n      });\r\n\r\n      marker.addListener(\"click\", function() {\r\n        console.log(\"marker\", marker);\r\n        infoWindow.open(map, marker);\r\n      });\r\n\r\n      marker.addListener(\"click\", toggleBounce);\r\n\r\n      function toggleBounce() {\r\n        if (marker.getAnimation() !== null) {\r\n          marker.setAnimation(null);\r\n        } else {\r\n          marker.setAnimation(window.google.maps.Animation.BOUNCE);\r\n        }\r\n      }\r\n\r\n      bounds.extend(place.geometry.location);\r\n    }\r\n\r\n    map.fitBounds(bounds);\r\n  };\r\n\r\n  closeModal = () => this.setState({ newPlace: {} });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Places from \"./Places\";\r\nimport Map from \"./Map\";\r\n\r\nclass Main extends Component {\r\n  state = {\r\n    places: [],\r\n    filteredPlaces: [],\r\n    filter: 0\r\n  };\r\n\r\n  linkTo = path => {\r\n    console.log(path);\r\n    this.props.history.push(path);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 px-md-0\">\r\n            <Map\r\n              fetchPlaces={this.fetchPlaces}\r\n              newPlace={this.newPlace}\r\n              places={\r\n                this.state.filter > 0\r\n                  ? this.state.filteredPlaces\r\n                  : this.state.places\r\n              }\r\n              linkTo={this.linkTo}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 px-md-0\" style={{ height: \"100vh\" }}>\r\n            <Places\r\n              places={\r\n                this.state.filter > 0\r\n                  ? this.state.filteredPlaces\r\n                  : this.state.places\r\n              }\r\n              filter={this.state.filter}\r\n              onChangeRating={this.onChangeRating}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fetchPlaces = places => {\r\n    this.setState({ places });\r\n  };\r\n\r\n  onChangeRating = filter => {\r\n    const places = this.state.places.filter(place => place.rating >= filter);\r\n\r\n    console.log(\"filtered places\", places);\r\n    this.setState({ filter, filteredPlaces: places });\r\n  };\r\n\r\n  newPlace = data => {\r\n    console.log(\"newPlace\", data);\r\n    this.setState({ places: [data, ...this.state.places] });\r\n  };\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from \"react\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nclass AddReview extends Component {\r\n  state = {\r\n    author_name: \"\",\r\n    text: \"\",\r\n    rating: 1,\r\n    time: new Date().getTime(),\r\n    profile_photo_url:\r\n      \"https://pngimage.net/wp-content/uploads/2018/06/no-avatar-png.png\",\r\n    errors: {}\r\n  };\r\n\r\n  validate = data => {\r\n    const errors = {};\r\n    if (!data.author_name) errors.name = \"Please, enter your name\";\r\n    if (!data.text) errors.comments = \"Please, enter a comment\";\r\n    return errors;\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const errors = this.validate(this.state);\r\n\r\n    this.setState({ errors });\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      this.props.submit(this.state);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <h3>Add Review</h3>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              type=\"email\"\r\n              className={`form-control ${!!this.state.errors.name &&\r\n                \"is-invalid\"}`}\r\n              id=\"name\"\r\n              name=\"author_name\"\r\n              onChange={event =>\r\n                this.setState({ author_name: event.target.value })\r\n              }\r\n              value={this.state.author_name}\r\n              placeholder=\"Enter your name\"\r\n            />\r\n            {!!this.state.errors.name && (\r\n              <div class=\"invalid-feedback\">{this.state.errors.name}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <StarRatings\r\n              rating={this.state.rating}\r\n              numberOfStars={5}\r\n              changeRating={rating => this.setState({ rating })}\r\n              starRatedColor=\"orange\"\r\n              starDimension=\"20px\"\r\n              starSpacing=\"1px\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"comments\">Comments</label>\r\n            <textarea\r\n              name=\"text\"\r\n              id=\"comments\"\r\n              className={`form-control ${!!this.state.errors.comments &&\r\n                \"is-invalid\"}`}\r\n              onChange={event => this.setState({ text: event.target.value })}\r\n              value={this.state.text}\r\n            />\r\n            {!!this.state.errors.comments && (\r\n              <div class=\"invalid-feedback\">{this.state.errors.comments}</div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-info mb-4\"\r\n            onClick={this.onSubmit}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddReview;\r\n","import React, { Component } from \"react\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport AddReview from \"./AddReview\";\r\n\r\nexport default class Place extends Component {\r\n  state = {\r\n    place: {\r\n      opening_hours: { weekday_text: [] }\r\n    },\r\n    reviews: [],\r\n    addingReview: false,\r\n    location: []\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    let map = new window.google.maps.Map(this.refs.map, {\r\n      center: this.state.mapCenter,\r\n      zoom: 14,\r\n      mapTypeId: \"roadmap\"\r\n    });\r\n\r\n    let service = new window.google.maps.places.PlacesService(map);\r\n    service.getDetails(\r\n      { placeId: this.props.match.params.place_id },\r\n      (place, status) => {\r\n        const latLng = String(place.geometry.location)\r\n          .replace(\" \", \"\")\r\n          .replace(\"(\", \"\")\r\n          .replace(\")\", \"\")\r\n          .split(\",\");\r\n        // console.log(\"latLng\", latLng);\r\n        this.setState({\r\n          location: latLng,\r\n          place,\r\n          reviews: place.reviews\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  addReview = data => {\r\n    console.log(data);\r\n    this.setState({ reviews: [data, ...this.state.reviews] });\r\n  };\r\n\r\n  render() {\r\n    const { place, reviews, location } = this.state;\r\n\r\n    const hours = place.opening_hours.weekday_text.map((item, key) => (\r\n      <li key={key}>{item}</li>\r\n    ));\r\n    //pano view rendering\r\n    let sv = new window.google.maps.StreetViewService();\r\n    sv.getPanorama(\r\n      {\r\n        location: {\r\n          lat: parseFloat(location[0]),\r\n          lng: parseFloat(location[1])\r\n        },\r\n        radius: 50\r\n      },\r\n      processSVData\r\n    );\r\n    //console.log(sv);\r\n    function processSVData(data, status) {\r\n      if (status === \"OK\") {\r\n        let panorama = new window.google.maps.StreetViewPanorama(\r\n          document.getElementById(\"pano\")\r\n        );\r\n        panorama.setPano(data.location.pano);\r\n        panorama.setPov({\r\n          heading: 270,\r\n          pitch: 0\r\n        });\r\n        panorama.setVisible(true);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"container-fluid pt-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <div ref=\"map\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mainInfo p-3 mt-4 rounded border border-dark\">\r\n              <h2 className=\"text-black d-flex justify-content-between\">\r\n                {place.name}\r\n                <StarRatings\r\n                  rating={place.rating}\r\n                  numberOfStars={5}\r\n                  starRatedColor=\"red\"\r\n                  starDimension=\"20px\"\r\n                  starSpacing=\"1px\"\r\n                />\r\n              </h2>\r\n              <hr className=\"border-dark\" />\r\n              <p className=\"text-black lead\">{place.formatted_address}</p>\r\n              <p className=\"text-black lead\">{place.formatted_phone_number}</p>\r\n\r\n              <div className=\"row m-4\">\r\n                <div className=\"col-xs-5 col-md-3 p-4 rounded border border-dark text-center\">\r\n                  <h3 className=\"text-black\">Opening Hours</h3>\r\n                  <ul className=\"m-0 p-0\" style={{ listStyle: \"none\" }}>\r\n                    {hours}\r\n                  </ul>\r\n                </div>\r\n                <div className=\"col-xs-1 col-md-1\" />\r\n                <div\r\n                  id=\"pano\"\r\n                  className=\"col-xs-5 col-md-8  rounded border border-dark\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-4\">\r\n            <div\r\n              className=\"col-xs-12 text-center btn btn-warning btn-lg btn-block\"\r\n              onClick={() =>\r\n                this.setState({ addingReview: !this.state.addingReview })\r\n              }\r\n            >\r\n              {this.state.addingReview ? \"Cancel\" : \"Add Review\"}\r\n            </div>\r\n            {this.state.addingReview && <AddReview submit={this.addReview} />}\r\n            <ul className=\"list-group\">\r\n              {reviews.map(review => (\r\n                <li key={review.time} className=\"list-group-item\">\r\n                  <div>\r\n                    <img\r\n                      height=\"60\"\r\n                      className=\"float-left mr-3 mb-4\"\r\n                      src={review.profile_photo_url}\r\n                      alt={review.author_name}\r\n                    />\r\n                    <h4 className=\"mb-0\">{review.author_name}</h4>\r\n                    <p className=\"mb-0\">{review.relative_time_description}</p>\r\n                    <StarRatings\r\n                      rating={review.rating}\r\n                      numberOfStars={5}\r\n                      starRatedColor=\"red\"\r\n                      starDimension=\"20px\"\r\n                      starSpacing=\"1px\"\r\n                    />\r\n                  </div>\r\n                  <br />\r\n                  <div>\r\n                    <p>{review.text}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Place from \"./components/Place\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            <Header />\n            <Route exact path=\"/\" component={Main} />\n            <Route path=\"/:place_id\" component={Place} />\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}